<%@page import="com.oreilly.servlet.multipart.DefaultFileRenamePolicy"%>
<%@page import="com.oreilly.servlet.MultipartRequest"%>
<%@ page contentType="text/html; charset=UTF-8"%>
<%
	//업로드 파일 저장 위치
	final String SAVEFOLDER = "C:/Jsp/myapp/src/main/webapp/ch13/storage";
	//업로드 파일명 인코딩
	final String ENCODING = "UTF-8";
	//업로드 파일 크기
	final int MAXSIZE = 1024*1024*20;	//20MB
	try{
		//DefaultFileRenamePolicy = 이름이 같으면 자동으로 이름 뒤에 인덱스 추가 
		MultipartRequest multi = 
				new MultipartRequest(request,SAVEFOLDER,
						MAXSIZE, ENCODING, 
						new DefaultFileRenamePolicy());
		String user = multi.getParameter("user");
		String fileName = multi.getFilesystemName("myfile");
		String fileType = multi.getContentType("myfile");
	}catch(Exception e){
		e.printStackTrace();
	}
%>